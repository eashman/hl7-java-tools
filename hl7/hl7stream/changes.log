* $Id$
* Revision: 30
20091130:
Tightening up the polymorphic genericized model. Basically there are 2 imperfect
paradigms:
* i/o stream : read, write
* service dispatch : Register a message handler which dispatches upon receipt.
  This is a higher level abstraction, and employs the lower level stream
  abstraction for i/o level operations.
 - HL7StreamBase.java : Added URI decoding services.

* Revision: 30
20091207:
- HL7Delivery.java : A minmally encumbered message delivery class.
- HL7FileReader.java : Removed description, since the default in HL7StreamBase is better.
- HL7IOException.java : Added more exception designators;
                           NULL_STREAM, INAPPROPRIATE_DIRECTIVE, UNINTERPERABLE_URI.
- HL7Server.java : Modified to implement HL7Stream as well as Runnable.
- HL7SocketStream.java : pulled open() functionality out of the constructors, but
                         allow it as an option.
- HL7StreamBase.java : Added a better default description().
                       Pulled out URI parsing and handling.
- HL7StreamURI.java : An interpreter class for HL7Stream URI specifiers.
         Pulled URI stuff out of HL7StreamBase to make it more generally useful.

* Revision: 33
20091208:
- HL7StreamURI.java : Added getHL7StreamWriter().

* Revision: 36
20091209:
- HL7Server.java : Added a constructor which takes a single URI argument.
- HL7Delivery.java : Additional documentation (minor).

* Revision: 39 
20091210:
- HL7FileReader.java, HL7FileWriter.java, HL7StreamURI.java : Fixed file reader,
and file writer qualifying logic.

* Revision: 41 
20091210:
- HL7SocketStream.java : Added open() to writeMsg when stream is not open.

* Revision: 42
20091211:
- HL7FileReader.java : Removed the finally block in _readMsg(), which was closing
the stream afer the first message was received, and close the stream properly,
using the HL7Stream.close(), at the end.

* Revision: 43 
20091213:
- HL7SocketStream.java : Corrected a problem in writeMsg(); Overly restrictive
                         consistency checking.

* Revision: 45 
20091213:
- HL7FileWriter.java : corrected open() to set statusValue and mediaType properly.

* Revision: 46 
20091214:
- HL7FileReader.java, HL7FileWriter.java, HL7IOException.java, HL7MessageHandler,
HL7Server, HL7SocketStream, HL7StreamURI : Updated javadocs.
- HL7Stream.java, HL7StreamBase.java : Added isServer() to HL7Stream interface.

* Revision: 47 
20091214:
- HL7Server.java, HL7SocketStream.java, HL7Stream.java, HL7StreamBase.java :
Added a method, dispatchHandler() to extract a valid HL7MessageHandler, if any
from the stream object.

* Revision: 49
20091214:
- HL7FileReader.java, HL7FileWriter.java, HL7IOException.java, HL7Server.java,
HL7StreamURI.java : Updated javadocs.
- HL7Delivery.java : Removed.

* Revision: 66 
20091217:
- HL7FileReader.java : fixed a bug: statusValue was not set to OPEN in open().

* Revision: 68 
20091229:
- HL7FileReader.java, HL7SocketStream.java : Added BHS and BTS handling.
- HL7IOException.java : Added the NOT_VALID_MSG error type.

* Revision: 13 
- HL7FileWriter.java : Added more detail to error messages.

* Revision: 14
20100121:
 - HL7XMLFileWriter.java : Added new HL7 output type to the HL7Stream package.
 - HL7StreamURI.java : Added provisions for HL7XMLFileWriter class.

* Revision: 15 
20100121 -20100124:
 - HL7XMLFileWriter.java : Improved exception handling.
                           Modified open so that the logging contains context info.
                           Created javadoc dcoumentation.
 - HL7StreamURI.java : Improved exception handling for XML writer.
                       Updated javadoc dcoumentation.

* Revision: 19 
20100131:
- HL7StreamURI.java, HL7FileWriter.java : Modified to differentiate between
       file writers and appenders. Modified HL7FileWriter(URI) constructor
       to handle raw URIs.

* Revision: 21 
20100312:
- HL7SocketStream.java : Cleaning up socket closure.

* Revision: 33
20100318:
- HL7SocketStream.java : Cleaning up stream closure.
- HL7FileReader.java, HL7FileWriter.java : Cleaning up file closure and IOException handling.

* Revision: 52, Date: 2010-07-26 14:54:04 -0700 (Mon, 26 Jul 2010), Author: scott.herman@unconxio.us
- HL7StreamURI.getPortNo(), .getHostName(), .isValid() : Added/modified these methods
public use and access.
- HL7Server: Minor cleanup.

* Revision: 59, Date: 2010-08-19 16:01:37 -0700 (Thu, 19 Aug 2010), Author: scott.herman@unconxio.us
- HL7MLLPStream: Copied functionality from HL7SocketStream class, to allow expansion of the
HL7SocketStream class into secured socket i/o without disrupting mllp functionality.

* Revision: 62, Date: 2010-08-30 16:50:30 -0700 (Mon, 30 Aug 2010), Author: scott.herman@unconxio.us
- HL7StreamURI.uri():Added to access the HL7StreamURI as a regular URI.

* Revision: 65, Date: 2010-09-23 15:33:53 -0700 (Fri, 23 Sep 2010), Author: scott.herman@unconxio.us
- HL7SocketStream.read():Corrected log trace message to display HL7Message object using toHL7String()
instead of toString(), which only gave an object instance reference.

* Revision: 66, Date: 2010-09-28 10:15:53 -0700 (Tue, 28 Sep 2010), Author: scott.herman@unconxio.us
- HL7SocketStream.read(), .write():More corrections, like last change.
- HL7Server/HL7ServiceWorker.run():Catch and log all exceptions.

* Revision: 67, Date: 2010-09-28 21:42:29 -0700 (Tue, 28 Sep 2010), Author: scott.herman@unconxio.us
- HL7SocketStream.read():Corrected send of acknowledgement, which used toString() instead of toHL7String().

* $Revision$, $Date$, $Author$
- HL7FileReader:Documentation and minor syntactical cleanup.
- HL7FileWriter:Documentation and minor syntactical cleanup.
- HL7MLLPStream:Replaced invocation of deprecated HL7Message.Acknowledgement(),
as well as some minor syntactical cleanup.
- HL7SocketStream:Replaced invocation of deprecated HL7Message.Acknowledgement(),
as well as some minor syntactical cleanup.
- HL7IOException:Documentation and minor syntactical cleanup.
- HL7MessageHandler:Corrected a misspelling.
- HL7Server:Documentation and minor syntactical cleanup.
- HL7Stream:Corrected a misspelling.
- HL7StreamBase:Documentation and minor syntactical cleanup.
- HL7StreamURI:Documentation, refactor, and syntactical cleanup.
- HL7XMLFileWriter:Added support for single file (append) mode.